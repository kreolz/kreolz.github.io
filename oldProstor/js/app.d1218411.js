(function(t){function e(e){for(var n,a,o=e[0],c=e[1],u=e[2],l=0,p=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&p.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,a=1;a<r.length;a++){var o=r[a];0!==s[o]&&(n=!1)}n&&(i.splice(e--,1),t=c(c.s=r[0]))}return t}var n={},a={app:0},s={app:0},i=[];function o(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"4e976f01"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(t){var e=[],r={about:1};a[t]?e.push(a[t]):0!==a[t]&&r[t]&&e.push(a[t]=new Promise((function(e,r){for(var n="css/"+({about:"about"}[t]||t)+"."+{about:"b7120873"}[t]+".css",s=c.p+n,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===s))return e()}var p=document.getElementsByTagName("style");for(o=0;o<p.length;o++){u=p[o],l=u.getAttribute("data-href");if(l===n||l===s)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var n=e&&e.target&&e.target.src||s,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete a[t],d.parentNode.removeChild(d),r(i)},d.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){a[t]=0})));var n=s[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,r){n=s[t]=[e,r]}));e.push(n[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(t);var p=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(d);var r=s[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",p.name="ChunkLoadError",p.type=n,p.request=a,r[1](p)}s[t]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(r,n,function(e){return t[e]}.bind(null,n));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var p=0;p<u.length;p++)e(u[p]);var d=l;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"1d5e":function(t,e,r){"use strict";r("96cf");var n=r("1da1"),a=r("be3b");function s(){return i.apply(this,arguments)}function i(){return i=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].get("/api/v1/pro100r/usertree");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),i.apply(this,arguments)}function o(){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].get("/api/v1/pro100r/card");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function u(t){return l.apply(this,arguments)}function l(){return l=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].get("/api/v1/pro100r/card/"+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function p(t){return d.apply(this,arguments)}function d(){return d=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/api/v1/pro100r/card",{forUserIds:e.forUserIds,validUntil:e.validUntil,header:e.header,priority:e.priority,reaction:e.reaction,note:e.note,file:e.file,color:e.color,isCommentingAllowed:e.isCommentingAllowed,cardType:e.cardType,cardState:e.cardState});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function f(t){return h.apply(this,arguments)}function h(){return h=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/api/v1/pro100r/card/"+e.id,{forUserIds:e.forUserIds,validUntil:e.validUntil,header:e.header,priority:e.priority,reaction:e.reaction,note:e.note,file:e.file,color:e.color,isCommentingAllowed:e.isCommentingAllowed,cardType:e.cardType,cardState:e.cardState,allowResponses:e.allowResponses});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function v(t){return m.apply(this,arguments)}function m(){return m=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].delete("/api/v1/pro100r/card/"+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function g(t){return w.apply(this,arguments)}function w(){return w=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].get("/api/v1/pro100r/cardmessage/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function b(t){return k.apply(this,arguments)}function k(){return k=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/api/v1/pro100r/cardmessage/"+e.idTask,{message:e.comment,typeId:0});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}function y(){return x.apply(this,arguments)}function x(){return x=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].get("/api/v1/pro100r/enums/cardtypes");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}function _(){return C.apply(this,arguments)}function C(){return C=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].get("/api/v1/pro100r/enums/cardstatetypes");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),C.apply(this,arguments)}function T(){return S.apply(this,arguments)}function S(){return S=Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].get("/api/v1/pro100r/enums/cardcommenttypes");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),S.apply(this,arguments)}function O(t){return R.apply(this,arguments)}function R(){return R=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].get("/api/v1/pro100r/card/history/"+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),R.apply(this,arguments)}function j(t){return V.apply(this,arguments)}function V(){return V=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/api/v1/pro100r/card/stick/"+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),V.apply(this,arguments)}function E(t){return A.apply(this,arguments)}function A(){return A=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].delete("/api/v1/pro100r/card/stick/"+e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}e["a"]={getUserTree:s,getTasks:o,addTask:p,getCommentsTask:g,addCommentTask:b,getCardCommentTypes:T,getCardStateTypes:_,getCardTypes:y,getTask:u,getHistoryTask:O,updateTask:f,deleteTask:v,addStickTask:j,deleteStickTask:E}},"41cb":function(t,e,r){"use strict";var n=r("2b0e"),a=r("8c4f"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticStyle:{color:"#A5BBC9 !important",height:"90vh"}},[n("v-row",[n("v-col",{attrs:{hidden:""}},[n("v-img",{staticStyle:{"max-width":"250px"},attrs:{src:r("9b19")}})],1)],1),n("v-row",{staticStyle:{height:"100%"},attrs:{dense:"",justify:"center","align-content":"center"}},[n("v-col",{attrs:{cols:"3"}},[n("v-row",{attrs:{dense:""}},[n("v-col",{staticStyle:{"margin-bottom":"25px"},attrs:{cols:"8",offset:"2"}},[n("v-img",{staticStyle:{"max-width":"350px"},attrs:{src:r("9b19")}})],1),n("v-col",{attrs:{cols:"6"}},[n("h1",{staticStyle:{"font-size":"1.2rem"}},[t._v("Вход в аккаунт")])]),n("v-col",{attrs:{cols:"6"}},[n("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[n("h3",t._g(t._b({staticClass:"text-right",staticStyle:{"font-size":".9rem",color:"#28B5E1"}},"h3",a,!1),r),[t._v("Помощь")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[t._v("\n                                Доступ к DEMO\n                            ")]),n("v-card-text",[n("ul",{staticStyle:{"list-style":"none"}},[n("li",[t._v("User 1: Логин-111111 Пароль-111111")]),n("li",[t._v(".")]),n("li",[t._v(".")]),n("li",[t._v(".")]),n("li",[t._v("User 40: Логин-111140 Пароль-111140")])])]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n                                    Закрыть\n                                ")])],1)],1)],1)],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{dense:"",outlined:"",label:"Введите табельный номер"},model:{value:t.workNumber,callback:function(e){t.workNumber=e},expression:"workNumber"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{type:"password",dense:"",outlined:"",label:"Введите пароль"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("v-col",{attrs:{cols:"12"}}),n("v-col",{attrs:{cols:"12"}},[n("v-btn",{staticStyle:{background:"linear-gradient(360deg, #0496FF 0%, #28B5E0 100%) !important"},attrs:{dense:"",block:""},on:{click:t.login}},[t._v("\n                        Войти\n                    ")])],1)],1)],1)],1)],1)},i=[],o={name:"Login",data:function(){return{dialog:!1,workNumber:"",password:""}},methods:{login:function(){this.$store.dispatch("authorization/login",{login:this.workNumber,password:this.password})}}},c=o,u=r("2877"),l=r("6544"),p=r.n(l),d=r("8336"),f=r("b0af"),h=r("99d9"),v=r("62ad"),m=r("a523"),g=r("169a"),w=r("ce7e"),b=r("adda"),k=r("0fd9"),y=r("2fa4"),x=r("8654"),_=Object(u["a"])(c,s,i,!1,null,"30f072ac",null),C=_.exports;p()(_,{VBtn:d["a"],VCard:f["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VCol:v["a"],VContainer:m["a"],VDialog:g["a"],VDivider:w["a"],VImg:b["a"],VRow:k["a"],VSpacer:y["a"],VTextField:x["a"]}),n["default"].use(a["a"]);e["a"]=new a["a"]({mode:"history",base:"/",routes:[{path:"/",name:"login",component:C},{path:"/tasks",name:"tasks",component:function(){return r.e("about").then(r.bind(null,"9c63"))}},{path:"/createtask/:idtask?",name:"createtask",component:function(){return r.e("about").then(r.bind(null,"1edd"))}}]})},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=r("be3b"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{staticStyle:{"background-color":"#1A1E24"},attrs:{dark:t.darkTheme}},[r("router-view")],1)},i=[],o=r("8d91"),c=r("c1f5"),u=r("fe0d"),l={name:"App",components:{CreateTask:u["a"],TimeLine:c["a"],Tasks:o["a"]},data:function(){return{drawer:null,darkTheme:!0}}},p=l,d=r("2877"),f=r("6544"),h=r.n(f),v=r("7496"),m=Object(d["a"])(p,s,i,!1,null,null,null),g=m.exports;h()(m,{VApp:v["a"]});var w=r("41cb"),b=r("2f62"),k=r("b054"),y=r.n(k),x=r("8468"),_=(r("96cf"),r("1da1")),C=r("1d5e"),T={userTree:[],tasks:[],taskType:[],taskState:[],historyTask:[],commentsTask:[]},S={},O={get_user_tree:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,C["a"].getUserTree();case 3:n=t.sent,r("SAVE_USER_TREE",n.data.value);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),get_tasks:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,C["a"].getTasks();case 3:n=t.sent,r("SAVE_TASKS",n.data.value);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),get_task_type:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,C["a"].getCardTypes();case 3:n=t.sent,r("SAVE_TASK_TYPE",n.data.value);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),add_task:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e,r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,C["a"].addTask(r);case 3:a=t.sent,n("ADD_TASK",a.data.value);case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),update_task:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e,r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,C["a"].updateTask(r);case 3:a=t.sent,n("UPDATE_TASK",a.data.value);case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),add_comment_task:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Object(x["a"])(e),t.next=3,C["a"].addCommentTask(r);case 3:t.sent;case 4:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),get_task_state:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,C["a"].getCardStateTypes();case 3:n=t.sent,r("SAVE_TASK_STATE",n.data.value);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),get_history_task:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e,r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,C["a"].getHistoryTask(r);case 3:a=t.sent,n("SAVE_HISTORY_TASK",a.data.value);case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}(),get_comments_task:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e,r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,C["a"].getCommentsTask(r);case 3:a=t.sent,n("SAVE_COMMENTS_TASK",a.data.value);case 5:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}()},R={SAVE_COMMENTS_TASK:function(t,e){t.commentsTask=e},SAVE_USER_TREE:function(t,e){t.userTree=e},SAVE_TASKS:function(t,e){t.tasks=e},SAVE_TASK_TYPE:function(t,e){t.taskType=e},ADD_TASK:function(t,e){t.tasks=addTasks},UPDATE_TASK:function(t,e){},SAVE_TASK_STATE:function(t,e){t.taskState=e},SAVE_HISTORY_TASK:function(t,e){t.historyTask=e}},j={namespaced:!0,state:T,getters:S,actions:O,mutations:R};function V(t){return E.apply(this,arguments)}function E(){return E=Object(_["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a["a"].post("/api/v1/pro100r/account/login",{username:e.login,password:e.password});case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t["catch"](0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),E.apply(this,arguments)}function A(){return P.apply(this,arguments)}function P(){return P=Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a["a"].post("api/v1/pro100r/account/logout");case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t["catch"](0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),P.apply(this,arguments)}function U(){return D.apply(this,arguments)}function D(){return D=Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a["a"].get("/api/v1/pro100r/account/refresh");case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t["catch"](0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),D.apply(this,arguments)}function H(){return I.apply(this,arguments)}function I(){return I=Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a["a"].get("api/v1/pro100r/account/info");case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t["catch"](0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),I.apply(this,arguments)}var B={login:V,logout:A,getInfoUserAndRole:H,refresh:U},$={isAuth:!1,token:JSON.parse(localStorage.getItem("token"))||"",role:"",auth:"",errorAuth:"",idRefresh:"",timeoutRefresh:3e5},F={GET_IS_AUTH:function(t){return t.isAuth}},L={login:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,a=e.dispatch,e.rootActions,t.prev=1,t.next=4,B.login(r);case 4:if(s=t.sent,"ok"!==s.data.value){t.next=13;break}return t.next=8,a("get_info_user");case 8:n("SAVE_IS_AUTH",!0),setInterval((function(){B.refresh()}),3e5),a("redirect_user"),t.next=14;break;case 13:$.errorAuth=s.data;case 14:t.next=18;break;case 16:t.prev=16,t.t0=t["catch"](1);case 18:case"end":return t.stop()}}),t,null,[[1,16]])})));function e(e,r){return t.apply(this,arguments)}return e}(),get_info_user:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,B.getInfoUserAndRole();case 4:n=t.sent,r("SAVE_AUTH",n.data.value),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:case"end":return t.stop()}}),t,null,[[1,8]])})));function e(e){return t.apply(this,arguments)}return e}(),redirect_user:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:w["a"].push({path:"/tasks"});case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),set_token:function(t,e){var r=t.commit;localStorage.setItem(),r("SAVE_TOKEN",e)},start:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e){var r,n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.state,n=e.commit,t.next=3,B.getInfoUserAndRole();case 3:a=t.sent,n("SAVE_AUTH",a.data.value),B.refresh(),s=setInterval((function(){B.refresh()}),r.timeoutRefresh),n("SAVE_ID_REFRESH",s);case 8:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),logout:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.logout();case 3:setTimeout((function(){w["a"].push({path:"/"})}),5e3),t.next=8;break;case 6:t.prev=6,t.t0=t["catch"](0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}()},M={SAVE_ID_REFRESH:function(t,e){t.idRefresh=e},SAVE_IS_AUTH:function(t,e){t.isAuth=e},SAVE_AUTH:function(t,e){t.auth=e},SAVE_TOKEN:function(t,e){t.token=e}},K={namespaced:!0,state:$,getters:F,actions:L,mutations:M};n["default"].use(b["a"]);var N=!1,Z=new b["a"].Store({modules:{tasks:j,authorization:K},strict:N,plugins:N?[y()()]:[]}),z=r("f309"),q=r("2992"),Y=r.n(q);n["default"].use(z["a"]);var G=new z["a"]({lang:{locales:{ru:Y.a},current:"ru"},theme:{dark:!0,light:!1}});r("d5e8"),r("5363");n["default"].config.productionTip=!1,new n["default"]({router:w["a"],store:Z,vuetify:G,mounted:function(){Z.dispatch("authorization/start")},render:function(t){return t(g)}}).$mount("#app")},"8d91":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{"min-height":"900px"}},[r("v-list",{attrs:{color:"#1A1E24"}},[r("v-subheader",[t._v("\n                Журнал заявок\n            ")]),t._l(t.tasks,(function(e){return r("v-list-item",{attrs:{"three-line":""},on:{click:function(r){return t.loadHistoryTask(e.id)}}},[r("v-list-item-content",[r("v-row",{staticStyle:{"border-bottom":"1px solid #30393E"},attrs:{dense:""}},[r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"8"}},[t._v("\n                                    "+t._s(e.header)+"\n                                ")]),r("v-col",{staticClass:"text-right",attrs:{cols:"4"}},[r("v-btn",{attrs:{icon:"",to:"/createtask/"+e.id}},[r("v-icon",[t._v("\n                                            mdi-open-in-new\n                                        ")])],1)],1)],1)],1),r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"8"}},t._l(e.forUsers,(function(e){return r("span",[r("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"/"}},[r("svg",{attrs:{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M8.35938 5.14062C8.10156 4.90625 7.82031 4.69531 7.51562 4.53125C7.39844 4.48438 7.28125 4.48438 7.1875 4.57812L7.09375 4.67188C6.88281 4.88281 6.76562 5.11719 6.74219 5.39844C6.71875 5.53906 6.76562 5.63281 6.90625 5.67969C7.09375 5.77344 7.28125 5.91406 7.44531 6.05469C7.82031 6.45312 8.00781 6.92188 8.00781 7.46094C8.00781 8.02344 7.82031 8.46875 7.44531 8.84375L5.66406 10.6016C5.28906 11 4.82031 11.1875 4.28125 11.1875C3.71875 11.1875 3.25 11 2.875 10.625C2.5 10.25 2.3125 9.78125 2.3125 9.21875C2.3125 8.67969 2.5 8.21094 2.89844 7.83594L3.95312 6.75781C4.02344 6.6875 4.04688 6.59375 4.04688 6.5C3.95312 6.21875 3.92969 5.91406 3.92969 5.60938C3.92969 5.49219 3.85938 5.39844 3.74219 5.35156C3.625 5.30469 3.53125 5.32812 3.4375 5.42188L1.96094 6.89844C1.53906 7.32031 1.23438 7.8125 1.09375 8.375C0.953125 8.9375 0.953125 9.5 1.09375 10.0625C1.23438 10.625 1.53906 11.1172 1.96094 11.5391C2.38281 11.9609 2.875 12.2656 3.4375 12.4062C4 12.5469 4.5625 12.5469 5.125 12.4062C5.6875 12.2656 6.17969 11.9609 6.60156 11.5391L7.58594 10.5547C8.17188 9.96875 8.5 9.61719 8.59375 9.52344C8.92188 9.10156 9.15625 8.63281 9.25 8.09375C9.34375 7.57812 9.32031 7.03906 9.17969 6.52344C9.01562 6.00781 8.73438 5.53906 8.35938 5.14062ZM12.0391 1.46094C12.4609 1.88281 12.7422 2.375 12.8828 2.9375C13.0234 3.5 13.0234 4.0625 12.8828 4.625C12.7422 5.1875 12.4609 5.67969 12.0391 6.10156L10.5625 7.57812C10.4688 7.67188 10.3516 7.69531 10.2344 7.64844C10.1172 7.60156 10.0703 7.53125 10.0703 7.39062C10.0703 7.10938 10.0234 6.80469 9.95312 6.5C9.92969 6.40625 9.95312 6.33594 10.0469 6.24219L11.1016 5.16406C11.4766 4.78906 11.6875 4.34375 11.6875 3.78125C11.6875 3.24219 11.4766 2.77344 11.1016 2.39844C10.7266 2.02344 10.2578 1.8125 9.71875 1.8125C9.15625 1.8125 8.71094 2.02344 8.33594 2.39844L6.55469 4.15625C6.17969 4.53125 5.99219 5 5.99219 5.53906C5.99219 6.10156 6.17969 6.57031 6.55469 6.94531C6.69531 7.10938 6.88281 7.22656 7.09375 7.32031C7.21094 7.39062 7.25781 7.48438 7.25781 7.60156C7.21094 7.88281 7.09375 8.14062 6.90625 8.32812L6.8125 8.42188C6.69531 8.51562 6.57812 8.53906 6.48438 8.46875C6.15625 8.32812 5.875 8.11719 5.64062 7.85938C5.24219 7.48438 4.96094 7.01562 4.82031 6.5C4.65625 5.98438 4.63281 5.44531 4.72656 4.90625C4.82031 4.39062 5.05469 3.89844 5.40625 3.47656C5.47656 3.38281 5.80469 3.05469 6.41406 2.44531L7.39844 1.46094C7.82031 1.03906 8.3125 0.757812 8.875 0.617188C9.4375 0.476562 10 0.476562 10.5625 0.617188C11.125 0.757812 11.6172 1.03906 12.0391 1.46094Z",fill:"#636D73"}})]),t._v("\n                                        "+t._s(e.value)+"\n                                            ")])])})),0),r("v-col",{staticClass:"text-right",attrs:{cols:"4"}},[e.isSticked?r("v-btn",{attrs:{small:"",icon:""},on:{click:function(r){return t.deleteStick(e.id)}}},[r("svg",{attrs:{width:"14",height:"20",viewBox:"0 0 14 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M4.07031 7.12953V1.17188H2.3125C1.98863 1.17188 1.72656 0.909805 1.72656 0.585938C1.72656 0.26207 1.98863 0 2.3125 0H11.6875C12.0114 0 12.2734 0.26207 12.2734 0.585938C12.2734 0.909805 12.0114 1.17188 11.6875 1.17188H9.92969V7.12953C11.9121 7.41691 13.4453 9.11117 13.4453 11.1719V12.3438C13.4453 12.6676 13.1832 12.9297 12.8594 12.9297H7.58594V19.4141C7.58594 19.7379 7.32387 20 7 20C6.67613 20 6.41406 19.7379 6.41406 19.4141V12.9297H1.14062C0.816758 12.9297 0.554688 12.6676 0.554688 12.3438V11.1719C0.554688 9.11117 2.08789 7.41691 4.07031 7.12953ZM8.75781 1.17188H5.24219V7.07031H8.75781V1.17188ZM1.72656 11.7578H12.2734V11.1719C12.2734 9.55652 10.9591 8.24219 9.34375 8.24219H4.65625C3.0409 8.24219 1.72656 9.55652 1.72656 11.1719V11.7578Z",fill:"#FDCA40"}})])]):t._e(),e.isSticked?t._e():r("v-btn",{attrs:{small:"",icon:""},on:{click:function(r){return t.addStick(e.id)}}},[r("svg",{attrs:{width:"14",height:"20",viewBox:"0 0 14 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M4.07031 7.12953V1.17188H2.3125C1.98863 1.17188 1.72656 0.909805 1.72656 0.585938C1.72656 0.26207 1.98863 0 2.3125 0H11.6875C12.0114 0 12.2734 0.26207 12.2734 0.585938C12.2734 0.909805 12.0114 1.17188 11.6875 1.17188H9.92969V7.12953C11.9121 7.41691 13.4453 9.11117 13.4453 11.1719V12.3438C13.4453 12.6676 13.1832 12.9297 12.8594 12.9297H7.58594V19.4141C7.58594 19.7379 7.32387 20 7 20C6.67613 20 6.41406 19.7379 6.41406 19.4141V12.9297H1.14062C0.816758 12.9297 0.554688 12.6676 0.554688 12.3438V11.1719C0.554688 9.11117 2.08789 7.41691 4.07031 7.12953ZM8.75781 1.17188H5.24219V7.07031H8.75781V1.17188ZM1.72656 11.7578H12.2734V11.1719C12.2734 9.55652 10.9591 8.24219 9.34375 8.24219H4.65625C3.0409 8.24219 1.72656 9.55652 1.72656 11.1719V11.7578Z",fill:"#757575"}})])]),1==e.priority?r("svg",{staticStyle:{"margin-left":"5px"},attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("rect",{attrs:{width:"20",height:"20",rx:"4",fill:"#FF715B"}})]):t._e(),2==e.priority?r("svg",{staticStyle:{"margin-left":"5px"},attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("rect",{attrs:{width:"20",height:"20",rx:"4",fill:"#28B5E0"}})]):t._e(),3==e.priority?r("svg",{staticStyle:{"margin-left":"5px"},attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("rect",{attrs:{width:"20",height:"20",rx:"4",fill:"#30D222"}})]):t._e()],1)],1)],1),r("v-col",{attrs:{cols:"12"}},[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"8"}},[r("svg",{attrs:{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("circle",{attrs:{cx:"4",cy:"4",r:"4",fill:"#FDCA40"}})]),t._v("\n                                    Основной цех\n                                    "),r("progress-task")],1),r("v-col",{staticClass:"text-right",attrs:{cols:"4"}},[t._v("\n                                    "+t._s(e.validUntil.substring(0,10))+"\n                                ")])],1)],1)],1)],1)],1)}))],2)],1)},a=[],s=(r("8e6e"),r("ac6a"),r("456d"),r("96cf"),r("1da1")),i=r("ade3"),o=r("fe0d"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{width:"160",height:"6",viewBox:"0 0 160 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("rect",{attrs:{width:"160",height:"6",rx:"2.5",fill:"#30393E"}}),r("rect",{attrs:{width:"132",height:"6",rx:"2",fill:"url(#paint0_linear)"}}),r("defs",[r("linearGradient",{attrs:{id:"paint0_linear",x1:"132",y1:"6",x2:"132",y2:"0",gradientUnits:"userSpaceOnUse"}},[r("stop",{attrs:{"stop-color":"#0496FF"}}),r("stop",{attrs:{offset:"1","stop-color":"#28B5E0"}})],1)],1)])},u=[],l={name:"ProgressTask"},p=l,d=r("2877"),f=Object(d["a"])(p,c,u,!1,null,"8fd437d4",null),h=f.exports,v=r("2f62"),m=r("1d5e");function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var b={name:"Tasks",components:{ProgressTask:h,CreateTask:o["a"]},data:function(){return{dialog:!1,expanded:[],singleExpand:!1}},computed:w({},Object(v["c"])("tasks",{tasks:"tasks"})),methods:w(w({},Object(v["b"])("tasks",{getTasks:"get_tasks",getHistory:"get_history_task"})),{},{loadHistoryTask:function(t){this.getHistory(t)},deleteStick:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].deleteStickTask(e);case 2:this.getTasks();case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),addStick:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].addStickTask(e);case 2:this.getTasks();case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}),created:function(){this.getTasks()},mounted:function(){this.getTasks()}},k=b,y=r("6544"),x=r.n(y),_=r("8336"),C=r("62ad"),T=r("132d"),S=r("8860"),O=r("da13"),R=r("5d23"),j=r("0fd9"),V=r("e0c7"),E=Object(d["a"])(k,n,a,!1,null,"1f09a7ff",null);e["a"]=E.exports;x()(E,{VBtn:_["a"],VCol:C["a"],VIcon:T["a"],VList:S["a"],VListItem:O["a"],VListItemContent:R["a"],VRow:j["a"],VSubheader:V["a"]})},"9b19":function(t,e,r){t.exports=r.p+"img/logo.468c07d6.svg"},be3b:function(t,e,r){"use strict";var n=r("41cb"),a=r("bc3a"),s=r.n(a),i=s.a.create({baseURL:"https://api2.rb.asu.ru/"});i.interceptors.request.use((function(t){return o(t)})),i.interceptors.response.use((function(t){return c(t)}),(function(t){return u(t)}));var o=function(t){return t.withCredentials=!0,t},c=function(t){return new Promise((function(e,r){200===t.status&&e(t)}))},u=function(t){return new Promise((function(e,r){return 400===t.response.status||401!==t.response.status&&403!==t.response.status||(-1!==[401,403].indexOf(t.response.status)&&n["a"].push({path:"/"}),r()),r(t.response.data)}))};e["a"]=i},c1f5:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-subheader",[t._v("\n            События задания\n        ")]),r("v-timeline",{attrs:{dense:""}},[t._l(t.history,(function(e){return r("v-timeline-item",{staticClass:"mb-4",attrs:{small:"",color:e.color}},[r("v-row",{attrs:{dense:""}},[r("v-subheader",[t._v("\n                        "+t._s(e.changeDateTime.substring(0,10))+"\n                    ")]),r("v-col",{attrs:{cols:"12"}},[t._v("\n                        "+t._s(e.changedBy.value)+' изменил(-а) "'+t._s(e.field)+'" на: '),r("strong",{staticStyle:{color:"#28B5E0"}},[t._v(t._s(e.newValue))])])],1)],1)})),0==t.history.length?r("v-timeline-item",{staticClass:"mb-4",attrs:{small:"",color:"pink"}},[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"12"}},[t._v("\n                        Активных действий с заданием не было найдено\n                    ")])],1)],1):t._e()],2),r("v-timeline",{staticStyle:{"padding-right":"5px"},attrs:{hidden:"",dense:""}},[r("v-slide-x-transition",{attrs:{group:""}},t._l(t.timeline,(function(e){return r("v-timeline-item",{key:e.id,staticClass:"mb-4",attrs:{color:"pink",small:""}},[r("v-row",{attrs:{justify:"space-between"}},[r("v-col",{attrs:{cols:"7"},domProps:{textContent:t._s(e.text)}}),r("v-col",{staticClass:"text-right",attrs:{cols:"5"},domProps:{textContent:t._s(e.time)}})],1)],1)})),1),r("v-timeline-item",{staticClass:"mb-6",attrs:{"hide-dot":""}},[r("v-chip",{staticClass:"ma-2",attrs:{color:"pink",label:"","text-color":"white"}},[r("v-icon",{attrs:{left:""}},[t._v("\n                        mdi-calendar\n                    ")]),t._v("\n                    Сегодня\n                ")],1)],1),r("v-timeline-item",{staticClass:"mb-4",attrs:{color:"grey","icon-color":"grey lighten-2",small:""}},[r("v-row",{attrs:{justify:"space-between"}},[r("v-col",{attrs:{cols:"7"}},[t._v('\n                        Исполнитель перевел задачу в статус "Закрыто" -> "Архив"\n                    ')]),r("v-col",{staticClass:"text-right",attrs:{cols:"5"}},[t._v("\n                        15:26 EDT\n                    ")])],1)],1),r("v-timeline-item",{staticClass:"mb-4",attrs:{small:""}},[r("v-row",{attrs:{justify:"space-between"}},[r("v-col",{attrs:{cols:"7"}},[r("v-chip",{staticClass:"white--text ml-0",attrs:{color:"purple",label:"",small:""}},[t._v("\n                            APP\n                        ")]),t._v("\n                        Дополнение задачи из внешней системы\n                    ")],1),r("v-col",{staticClass:"text-right",attrs:{cols:"5"}},[t._v("\n                        15:25 EDT\n                    ")])],1)],1),r("v-timeline-item",{staticClass:"mb-4",attrs:{color:"grey",small:""}},[r("v-row",{attrs:{justify:"space-between"}},[r("v-col",{attrs:{cols:"7"}},[r("v-chip",{staticClass:"white--text ml-0",attrs:{color:"purple",label:"",small:""}},[t._v("\n                            MSG\n                        ")]),t._v("\n                        Комментарий к задаче: Прошу уточнить ...\n                    ")],1),r("v-col",{staticClass:"text-right",attrs:{cols:"5"}},[t._v("\n                        15:25\n                    ")])],1)],1),r("v-timeline-item",{staticClass:"mb-6",attrs:{"hide-dot":""}},[r("v-chip",{staticClass:"ma-2",attrs:{color:"pink",label:"","text-color":"white"}},[r("v-icon",{attrs:{left:""}},[t._v("\n                        mdi-calendar\n                    ")]),t._v("\n                    Вчера\n                ")],1)],1),r("v-timeline-item",{staticClass:"mb-4",attrs:{"hide-dot":""}},[r("v-btn",{staticClass:"mx-0"},[t._v("\n                    Был изменен исполнитель\n                ")])],1),r("v-timeline-item",{staticClass:"mb-4",attrs:{color:"grey",small:""}},[r("v-row",{attrs:{justify:"space-between"}},[r("v-col",{attrs:{cols:"7"}},[t._v('\n                        Исполнитель перевел задачу в статус "Принято в работу"\n                    ')]),r("v-col",{staticClass:"text-right",attrs:{cols:"5"}},[t._v("\n                        15:25\n                    ")])],1)],1),r("v-timeline-item",{attrs:{color:"grey",small:""}},[r("v-row",{attrs:{justify:"space-between"}},[r("v-col",{attrs:{cols:"7"}},[t._v("\n                        Задача была сформированна\n                    ")]),r("v-col",{staticClass:"text-right",attrs:{cols:"5"}},[t._v("\n                        15:25\n                    ")])],1)],1)],1)],1)},a=[],s=(r("8e6e"),r("ac6a"),r("456d"),r("ade3")),i=r("2f62");function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u={name:"TimeLine",computed:c({},Object(i["c"])("tasks",{history:"historyTask"}))},l=u,p=r("2877"),d=r("6544"),f=r.n(d),h=r("8336"),v=r("cc20"),m=r("62ad"),g=r("132d"),w=r("0fd9"),b=r("0789"),k=r("e0c7"),y=r("8414"),x=r("1e06"),_=Object(p["a"])(l,n,a,!1,null,"aa6639fc",null);e["a"]=_.exports;f()(_,{VBtn:h["a"],VChip:v["a"],VCol:m["a"],VIcon:g["a"],VRow:w["a"],VSlideXTransition:b["f"],VSubheader:k["a"],VTimeline:y["a"],VTimelineItem:x["a"]})},fe0d:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticStyle:{color:"#A5BBC9 !important"}},[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"9"}},[r("v-card",{attrs:{flat:"",color:"#1A1E24"}},[r("v-card-text",[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"11"}},[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"11"}},[r("v-text-field",{attrs:{dense:"",regular:"",label:"Заголовок"},model:{value:t.header,callback:function(e){t.header=e},expression:"header"}})],1),r("v-col",{attrs:{cols:"1"}},[r("speech-file-input",{attrs:{"type-input":"mainInput",text:t.header,title:"Заголовок"},on:{"update:text":function(e){t.header=e},speechend:t.speechEndHeader}})],1)],1)],1),r("v-col",{attrs:{cols:"11"}},[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"11"}},[r("v-text-field",{attrs:{outlined:"",dense:"",label:"Описание задачи"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),r("v-col",{attrs:{cols:"1"}},[r("speech-file-input",{attrs:{"type-input":"textarea",text:t.description,title:"Описание задачи"},on:{"update:text":function(e){t.description=e},speechend:t.speechEndDescription}})],1)],1)],1),r("v-col",{attrs:{cols:"5"}},[r("v-combobox",{attrs:{items:t.priority,"item-text":"name","item-value":"id",label:"Приоритет","small-chips":"",outlined:"",dense:""},scopedSlots:t._u([{key:"selection",fn:function(e){var n=e.item;return[r("v-chip",{attrs:{small:"",color:n.color}},[t._v(t._s(n.name))])]}}]),model:{value:t.taskPriority,callback:function(e){t.taskPriority=e},expression:"taskPriority"}})],1),r("v-col",{attrs:{cols:"5"}},[r("v-select",{attrs:{label:"Вид поручения",items:t.taskType,"item-text":"value","item-value":"id","small-chips":"",dense:"","item-color":"#FDCA40",outlined:""},scopedSlots:t._u([{key:"selection",fn:function(e){var n=e.item;return[r("v-chip",{attrs:{small:"",color:"#FDCA40"}},[t._v(t._s(n.value))])]}}]),model:{value:t.taskTypeSelect,callback:function(e){t.taskTypeSelect=e},expression:"taskTypeSelect"}})],1),r("v-col",{attrs:{cols:"5"}},[r("v-text-field",{attrs:{dense:"",label:"Автор задачи",outlined:"",disabled:!t.editMode}})],1),r("v-col",{attrs:{cols:"5"}},[r("v-dialog",{ref:"dialog",attrs:{"return-value":t.date,persistent:"",width:"340"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-text-field",t._g({attrs:{label:"Срок исполнения",readonly:"",dense:"",outlined:""},model:{value:t.validUntil,callback:function(e){t.validUntil=e},expression:"validUntil"}},n))]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[r("v-date-picker",{attrs:{"first-day-of-week":"1"},model:{value:t.validUntil,callback:function(e){t.validUntil=e},expression:"validUntil"}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.modal=!1}}},[t._v("Закрыть")]),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.validUntil)}}},[t._v("Сохранить")])],1)],1)],1),r("v-col",{attrs:{cols:"5"}},[r("treeselect",{staticClass:"vue-treeselect__control",attrs:{options:t.userTree,multiple:!0,placeholder:"Ответственный"},model:{value:t.ispolnitel,callback:function(e){t.ispolnitel=e},expression:"ispolnitel"}})],1),r("v-col",{attrs:{cols:"5"}},[r("v-file-input",{attrs:{dense:"",placeholder:"Документ",outlined:""}})],1),r("v-col",{attrs:{cols:"4"}},[r("v-checkbox",{attrs:{dense:"",label:"Выключить комментарии"},model:{value:t.allowResponses,callback:function(e){t.allowResponses=e},expression:"allowResponses"}})],1)],1),r("v-subheader",[t._v("\n                                Дополнительно\n                            ")]),t.editMode?r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"10"}},[r("v-select",{attrs:{items:t.taskState,"item-value":"id","item-text":"value",label:"Статус задачи"},model:{value:t.taskStateSelect,callback:function(e){t.taskStateSelect=e},expression:"taskStateSelect"}})],1),r("v-col",{attrs:{cols:"10"}},[r("v-text-field",{attrs:{dense:"",label:"Реакция",outlined:""},model:{value:t.reaction,callback:function(e){t.reaction=e},expression:"reaction"}}),r("v-row",{staticClass:"text-left",attrs:{dense:""}},[r("v-subheader",[t._v("\n                                            Быстрые ответы\n                                        ")]),r("v-col",{attrs:{cols:"9"}},[r("v-chip",{staticClass:"ma-2",attrs:{small:""},on:{click:function(e){t.reaction="Принято!"}}},[t._v("\n                                                Принято!\n                                            ")]),r("v-chip",{staticClass:"ma-2",attrs:{small:""},on:{click:function(e){t.reaction="Передано в работу!"}}},[t._v("\n                                                Передано в работу цеха!\n                                            ")]),r("v-chip",{staticClass:"ma-2",attrs:{small:""},on:{click:function(e){t.reaction="Изучаю"}}},[t._v("\n                                                Изучаю\n                                            ")]),r("v-chip",{staticClass:"ma-2",attrs:{small:""},on:{click:function(e){t.reaction="В работе!"}}},[t._v("\n                                                В работе!\n                                            ")])],1)],1)],1),r("v-col",{attrs:{cols:"11"}},[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"11"}},[r("v-textarea",{attrs:{outlined:"",placeholder:"Комментарий к задаче"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1),r("v-col",{attrs:{cols:"1"}},[r("speech-file-input",{attrs:{"type-input":"textarea",text:t.comment,title:"Комментарий"},on:{"update:text":function(e){t.comment=e}}})],1)],1),r("v-btn",{on:{click:function(e){return t.addCommentTask()}}},[t._v("\n                                        Добавить комментарий\n                                    ")])],1)],1):t._e()],1),r("v-card-actions",[r("v-btn",{attrs:{width:"200",color:"green lighteen-1",to:"/tasks"}},[t._v("\n                                На главную\n                            ")]),r("v-btn",{staticStyle:{"background-color":"#E9F7FB",color:"#27B4E0"},attrs:{width:"200",to:"/tasks"}},[t._v("\n                                Отменить\n                            ")]),r("v-btn",{staticStyle:{background:"linear-gradient(360deg, #0496FF 0%, #28B5E0 100%)"},attrs:{width:"200"},on:{click:t.createTask}},[t._v("\n                                Сохранить\n                            ")]),r("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.deleteTask(t.idTask)}}},[t._v("\n                                Удалить запись\n                            ")])],1)],1)],1)],1)],1)},a=[],s=(r("8e6e"),r("ac6a"),r("456d"),r("7514"),r("96cf"),r("1da1")),i=r("ade3"),o=r("ca17"),c=r.n(o),u=(r("542c"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{attrs:{dense:""}},[r("v-col",[r("v-btn",{class:{"animated infinite pulse":t.toggle},attrs:{dense:"",icon:"",color:t.toggle?t.speaking?"red":"red darken-3":"grey"},on:{click:function(e){e.stopPropagation(),t.toggle?t.endSpeechRecognition():t.startSpeechRecognition()}}},[r("v-icon",[t._v(t._s(t.toggle?"mic_off":"mic"))])],1)],1)],1)}),l=[],p=(r("5df3"),r("1c4c"),window.SpeechRecognition||window.webkitSpeechRecognition),d=!!p&&new p,f={name:"SpeechFileInput",props:{lang:{type:String,default:"ru-RU"},text:{type:[String,null],required:!0},title:String,typeInput:{type:String,default:"input"}},data:function(){return{error:!1,speaking:!1,toggle:!1,runtimeTranscription:"",sentences:[]}},methods:{checkCompatibility:function(){d||(this.error="Распознавание речи недоступно в этом браузере. Пожалуйста, используйте Chrome или Firefox")},endSpeechRecognition:function(){d.stop(),this.toggle=!1,this.$emit("speechend",{sentences:this.sentences,text:this.sentences.join(". ")})},startSpeechRecognition:function(){var t=this;if(!d)return this.error="Распознавание речи недоступно в этом браузере. Пожалуйста, используйте Chrome или Firefox",!1;this.toggle=!0,d.lang=this.lang,d.interimResults=!0,d.addEventListener("speechstart",(function(e){t.speaking=!0})),d.addEventListener("speechend",(function(e){t.speaking=!1})),d.addEventListener("result",(function(e){var r=Array.from(e.results).map((function(t){return t[0]})).map((function(t){return t.transcript})).join("");t.runtimeTranscription=r})),d.addEventListener("end",(function(){""!==t.runtimeTranscription&&(t.sentences.push(t.capitalizeFirstLetter(t.runtimeTranscription)),t.$emit("update:text","".concat(t.text).concat(t.sentences.slice(-1)[0],". "))),t.runtimeTranscription="",d.stop(),t.toggle&&d.start()})),d.start()},capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},mounted:function(){this.checkCompatibility()}},h=f,v=r("2877"),m=r("6544"),g=r.n(m),w=r("8336"),b=r("62ad"),k=r("132d"),y=r("0fd9"),x=Object(v["a"])(h,u,l,!1,null,"cfc6a2e2",null),_=x.exports;g()(x,{VBtn:w["a"],VCol:b["a"],VIcon:k["a"],VRow:y["a"]});var C=r("2f62"),T=r("1d5e");function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach((function(e){Object(i["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var R={name:"CreateTask",components:{SpeechFileInput:_,Treeselect:c.a},data:function(){return{taskStateSelect:-1,taskPriority:"",header:"",taskTypeSelect:"",validUntil:"",comment:"",reaction:"",inspolnitel:"",allowResponses:!1,description:"",priority:[{id:1,color:"#FF715B",name:"Высокий"},{id:2,color:"#28B5E0",name:"Средний"},{id:3,color:"#30D222",name:"Низкий"}]}},computed:O(O({},Object(C["c"])("tasks",{userTree:"userTree",taskType:"taskType",taskState:"taskState"})),{},{editMode:function(){return Boolean(this.$root.$route.params.idtask)},idTask:function(){return this.$root.$route.params.idtask}}),methods:O(O({speechEndHeader:function(t){var e=t.sentences,r=t.header;console.log("text",r),console.log("sentences",e),this.sentences=e},speechEndDescription:function(t){var e=t.sentences,r=t.header;console.log("text",r),console.log("sentences",e),this.sentences=e}},Object(C["b"])("tasks",{getUserTree:"get_user_tree",getTaskType:"get_task_type",addTask:"add_task",getTaskState:"get_task_state",updateTask:"update_task",addComment:"add_comment_task",getCommentsTask:"get_comments_task"})),{},{addCommentTask:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$root.$route.params.idtask,t.next=3,this.addComment({comment:this.comment,idTask:e});case 3:this.getCommentsTask(e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createTask:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$root.$route.params.idtask?this.updateTask({id:this.$root.$route.params.idtask,forUserIds:this.ispolnitel,validUntil:this.validUntil,header:this.header,priority:this.taskPriority.id,reaction:this.reaction,note:this.description,file:"",color:"",isCommentingAllowed:!this.isCommentingAllowed,cardType:this.taskTypeSelect,cardState:this.taskStateSelect,allowResponses:this.allowResponses}):(this.addTask({forUserIds:this.ispolnitel,validUntil:this.validUntil,header:this.header,priority:this.taskPriority.id,reaction:this.reaction,note:this.description,file:"",color:"",isCommentingAllowed:!this.isCommentingAllowed,cardType:this.taskTypeSelect,cardState:this.taskStateSelect,allowResponses:this.allowResponses}),this.$router.push({path:"/tasks"}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),deleteTask:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T["a"].deleteTask(e);case 2:this.$root.$router.push({path:"/tasks"});case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}),created:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.getUserTree(),this.getTaskType(),this.getTaskState(),!this.$root.$route.params.idtask){t.next=12;break}return t.next=6,T["a"].getTask(this.$root.$route.params.idtask);case 6:e=t.sent,this.validUntil=e.data.value.validUntil,this.ispolnitel=e.data.value.forUserIds,this.header=e.data.value.header,this.taskPriority=this.priority.find((function(t){return t.id==e.data.value.priority})),this.taskTypeSelect=e.data.value.cardType;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},j=R,V=r("b0af"),E=r("99d9"),A=r("ac7c"),P=r("cc20"),U=r("2b5d"),D=r("a523"),H=r("2e4b"),I=r("169a"),B=r("23a7"),$=r("b974"),F=r("2fa4"),L=r("e0c7"),M=r("8654"),K=r("a844"),N=Object(v["a"])(j,n,a,!1,null,"6de438ae",null);e["a"]=N.exports;g()(N,{VBtn:w["a"],VCard:V["a"],VCardActions:E["a"],VCardText:E["b"],VCheckbox:A["a"],VChip:P["a"],VCol:b["a"],VCombobox:U["a"],VContainer:D["a"],VDatePicker:H["a"],VDialog:I["a"],VFileInput:B["a"],VRow:y["a"],VSelect:$["a"],VSpacer:F["a"],VSubheader:L["a"],VTextField:M["a"],VTextarea:K["a"]})}});
//# sourceMappingURL=app.d1218411.js.map